<?xml version="1.0" encoding="utf-8"?>
<!--
    Copyright (c) 2023 Nineva Studios
-->
<root xmlns:android="http://schemas.android.com/apk/res/android">
    <init>
        <log text="[BleMidiGoodies] Android UPL initialization"/>
    </init>
    <prebuildCopies>
        <copyDir src="$S(PluginDir)/Private/Java" dst="$S(BuildDir)/src/com/ninevastudios/blemidilib" />
        <copyFile src="$S(PluginDir)/../ThirdParty/BLE-MIDI-library-release.aar" dst="$S(BuildDir)/gradle/app/libs/BLE-MIDI-library-release.aar" />
    </prebuildCopies>

    <buildGradleAdditions>
        <insert>
            android {
                compileOptions {
                    targetCompatibility JavaVersion.VERSION_1_8
                    sourceCompatibility JavaVersion.VERSION_1_8
                }
            }
            
            dependencies {
                implementation fileTree(dir: 'libs', include: ['*.aar'])
            }
        </insert>
    </buildGradleAdditions>

    <proguardAdditions>
        <insert>
            -dontwarn com.ninevastudios.**
            -keep class com.ninevastudios.** { *; }
            -keep interface com.ninevastudios.** { *; }
        </insert>
    </proguardAdditions>
</root>